import router from '@ohos.router';
import prompt from '@ohos.promptAction';

interface FAQItem {
  id: string;
  question: string;
  answer: string;
  isExpanded: boolean;
}

@Entry
@Component
struct HelpPage {
  @State faqList: FAQItem[] = [
    {
      id: '1',
      question: 'å¦‚ä½•å‘å¸ƒé—®é¢˜ï¼Ÿ',
      answer: 'ç‚¹å‡»é¦–é¡µå³ä¸Šè§’çš„"+"æŒ‰é’®ï¼Œå³å¯è¿›å…¥å‘å¸ƒé—®é¢˜é¡µé¢ã€‚å¡«å†™é—®é¢˜æ ‡é¢˜ã€æè¿°å’Œé€‰æ‹©è¯é¢˜åï¼Œç‚¹å‡»å‘å¸ƒå³å¯ã€‚',
      isExpanded: false
    },
    {
      id: '2',
      question: 'å¦‚ä½•ä¿®æ”¹ä¸ªäººèµ„æ–™ï¼Ÿ',
      answer: 'è¿›å…¥"æˆ‘çš„"é¡µé¢ï¼Œç‚¹å‡»å¤´åƒåŒºåŸŸæˆ–"ç¼–è¾‘èµ„æ–™"æŒ‰é’®ï¼Œå³å¯ä¿®æ”¹æ˜µç§°ã€å¤´åƒã€ç®€ä»‹ç­‰ä¸ªäººä¿¡æ¯ã€‚',
      isExpanded: false
    },
    {
      id: '3',
      question: 'å¦‚ä½•å…³æ³¨å…¶ä»–ç”¨æˆ·ï¼Ÿ',
      answer: 'åœ¨ä»»æ„ç”¨æˆ·çš„ä¸»é¡µã€å›ç­”ä¸‹æ–¹æˆ–æ¨èåˆ—è¡¨ä¸­ï¼Œç‚¹å‡»"å…³æ³¨"æŒ‰é’®å³å¯å…³æ³¨è¯¥ç”¨æˆ·ã€‚å…³æ³¨åå¯åœ¨é¦–é¡µçœ‹åˆ°å…¶åŠ¨æ€ã€‚',
      isExpanded: false
    },
    {
      id: '4',
      question: 'å¦‚ä½•æ”¶è—å†…å®¹ï¼Ÿ',
      answer: 'åœ¨ä»»æ„é—®é¢˜æˆ–å›ç­”è¯¦æƒ…é¡µï¼Œç‚¹å‡»åº•éƒ¨çš„æ”¶è—æŒ‰é’®ï¼ˆæ˜Ÿæ˜Ÿå›¾æ ‡ï¼‰ï¼Œå³å¯å°†å†…å®¹åŠ å…¥æ”¶è—ã€‚åœ¨"æˆ‘çš„æ”¶è—"ä¸­å¯æŸ¥çœ‹æ‰€æœ‰æ”¶è—å†…å®¹ã€‚',
      isExpanded: false
    },
    {
      id: '5',
      question: 'è´¦å·è¢«å°ç¦æ€ä¹ˆåŠï¼Ÿ',
      answer: 'å¦‚æœæ‚¨çš„è´¦å·è¢«å°ç¦ï¼Œè¯·è”ç³»å®¢æœç”³è¯‰ã€‚è¯·æä¾›æ‚¨çš„è´¦å·ä¿¡æ¯å’Œç›¸å…³è¯´æ˜ï¼Œæˆ‘ä»¬ä¼šåœ¨3ä¸ªå·¥ä½œæ—¥å†…å¤„ç†ã€‚',
      isExpanded: false
    },
    {
      id: '6',
      question: 'å¦‚ä½•åˆ é™¤å·²å‘å¸ƒçš„å†…å®¹ï¼Ÿ',
      answer: 'è¿›å…¥æ‚¨å‘å¸ƒçš„é—®é¢˜æˆ–å›ç­”è¯¦æƒ…é¡µï¼Œç‚¹å‡»å³ä¸Šè§’çš„"..."æŒ‰é’®ï¼Œé€‰æ‹©"åˆ é™¤"å³å¯ã€‚æ³¨æ„ï¼šåˆ é™¤åæ— æ³•æ¢å¤ã€‚',
      isExpanded: false
    },
    {
      id: '7',
      question: 'å¦‚ä½•ä¸¾æŠ¥è¿è§„å†…å®¹ï¼Ÿ',
      answer: 'åœ¨ä»»æ„å†…å®¹çš„è¯¦æƒ…é¡µï¼Œç‚¹å‡»å³ä¸Šè§’çš„"..."æŒ‰é’®ï¼Œé€‰æ‹©"ä¸¾æŠ¥"ï¼Œå¡«å†™ä¸¾æŠ¥åŸå› åæäº¤ã€‚æˆ‘ä»¬ä¼šå°½å¿«å®¡æ ¸å¤„ç†ã€‚',
      isExpanded: false
    }
  ];

  private toggleExpand(index: number) {
    this.faqList[index].isExpanded = !this.faqList[index].isExpanded;
  }

  build() {
    Column() {
      // é¡¶éƒ¨å¯¼èˆªæ 
      Row() {
        Text('â†')
          .fontSize(24)
          .fontColor('#333333')
          .padding({ left: 16, right: 16 })
          .onClick(() => router.back());

        Text('å¸®åŠ©ä¸å®¢æœ')
          .fontSize(18)
          .fontWeight(FontWeight.Medium)
          .fontColor('#333333')
          .layoutWeight(1);
      }
      .width('100%')
      .height(56)
      .backgroundColor('#ffffff')
      .alignItems(VerticalAlign.Center);

      Scroll() {
        Column({ space: 16 }) {
          // å®¢æœå…¥å£
          Column({ space: 12 }) {
            Text('è”ç³»å®¢æœ')
              .fontSize(18)
              .fontWeight(FontWeight.Bold)
              .fontColor('#333333')
              .width('100%');

            Row({ space: 12 }) {
              Column({ space: 8 }) {
                Text('ğŸ’¬')
                  .fontSize(32);
                Text('åœ¨çº¿å®¢æœ')
                  .fontSize(13)
                  .fontColor('#333333');
              }
              .layoutWeight(1)
              .height(90)
              .backgroundColor('#f0f7ff')
              .borderRadius(12)
              .justifyContent(FlexAlign.Center)
              .alignItems(HorizontalAlign.Center)
              .onClick(() => prompt.showToast({ message: 'æ­£åœ¨è¿æ¥åœ¨çº¿å®¢æœ...' }));

              Column({ space: 8 }) {
                Text('ğŸ“§')
                  .fontSize(32);
                Text('é‚®ä»¶åé¦ˆ')
                  .fontSize(13)
                  .fontColor('#333333');
              }
              .layoutWeight(1)
              .height(90)
              .backgroundColor('#f0f7ff')
              .borderRadius(12)
              .justifyContent(FlexAlign.Center)
              .alignItems(HorizontalAlign.Center)
              .onClick(() => prompt.showToast({ message: 'é‚®ç®±ï¼šsupport@zhihuhu.com' }));

              Column({ space: 8 }) {
                Text('ğŸ“')
                  .fontSize(32);
                Text('ç”µè¯å®¢æœ')
                  .fontSize(13)
                  .fontColor('#333333');
              }
              .layoutWeight(1)
              .height(90)
              .backgroundColor('#f0f7ff')
              .borderRadius(12)
              .justifyContent(FlexAlign.Center)
              .alignItems(HorizontalAlign.Center)
              .onClick(() => prompt.showToast({ message: 'å®¢æœçƒ­çº¿ï¼š400-123-4567' }));
            }
            .width('100%');
          }
          .width('100%')
          .padding(16)
          .backgroundColor('#ffffff')
          .borderRadius(12);

          // å¸¸è§é—®é¢˜
          Column({ space: 12 }) {
            Text('å¸¸è§é—®é¢˜')
              .fontSize(18)
              .fontWeight(FontWeight.Bold)
              .fontColor('#333333')
              .width('100%');

            ForEach(this.faqList, (faq: FAQItem, index: number) => {
              Column({ space: 8 }) {
                Row() {
                  Text(faq.question)
                    .fontSize(15)
                    .fontWeight(FontWeight.Medium)
                    .fontColor('#333333')
                    .layoutWeight(1);

                  Text(faq.isExpanded ? 'âˆ§' : 'âˆ¨')
                    .fontSize(16)
                    .fontColor('#999999');
                }
                .width('100%')
                .onClick(() => this.toggleExpand(index));

                if (faq.isExpanded) {
                  Text(faq.answer)
                    .fontSize(14)
                    .fontColor('#666666')
                    .lineHeight(22)
                    .width('100%')
                    .padding({ top: 8 });
                }
              }
              .width('100%')
              .padding(12)
              .backgroundColor('#f9f9f9')
              .borderRadius(8);
            });
          }
          .width('100%')
          .padding(16)
          .backgroundColor('#ffffff')
          .borderRadius(12);

          // é—®é¢˜åé¦ˆ
          Column({ space: 12 }) {
            Text('é—®é¢˜åé¦ˆ')
              .fontSize(18)
              .fontWeight(FontWeight.Bold)
              .fontColor('#333333')
              .width('100%');

            Text('å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œæˆ–æœ‰ä»»ä½•å»ºè®®ï¼Œæ¬¢è¿å‘æˆ‘ä»¬åé¦ˆã€‚')
              .fontSize(14)
              .fontColor('#666666')
              .lineHeight(22)
              .width('100%');

            Button('æäº¤åé¦ˆ')
              .width('100%')
              .height(44)
              .backgroundColor('#0f88eb')
              .fontColor('#ffffff')
              .fontSize(15)
              .borderRadius(22)
              .onClick(() => prompt.showToast({ message: 'åé¦ˆæäº¤é¡µé¢' }));
          }
          .width('100%')
          .padding(16)
          .backgroundColor('#ffffff')
          .borderRadius(12);

          // æœåŠ¡æ¡æ¬¾
          Column({ space: 12 }) {
            Text('ç›¸å…³åè®®')
              .fontSize(18)
              .fontWeight(FontWeight.Bold)
              .fontColor('#333333')
              .width('100%');

            Row() {
              Text('ç”¨æˆ·åè®®')
                .fontSize(15)
                .fontColor('#333333')
                .layoutWeight(1);
              Text('>')
                .fontSize(16)
                .fontColor('#cccccc');
            }
            .width('100%')
            .padding({ top: 12, bottom: 12 })
            .onClick(() => prompt.showToast({ message: 'ç”¨æˆ·åè®®' }));

            Divider().color('#f0f0f0').strokeWidth(1);

            Row() {
              Text('éšç§æ”¿ç­–')
                .fontSize(15)
                .fontColor('#333333')
                .layoutWeight(1);
              Text('>')
                .fontSize(16)
                .fontColor('#cccccc');
            }
            .width('100%')
            .padding({ top: 12, bottom: 12 })
            .onClick(() => prompt.showToast({ message: 'éšç§æ”¿ç­–' }));

            Divider().color('#f0f0f0').strokeWidth(1);

            Row() {
              Text('ç¤¾åŒºè§„èŒƒ')
                .fontSize(15)
                .fontColor('#333333')
                .layoutWeight(1);
              Text('>')
                .fontSize(16)
                .fontColor('#cccccc');
            }
            .width('100%')
            .padding({ top: 12, bottom: 12 })
            .onClick(() => prompt.showToast({ message: 'ç¤¾åŒºè§„èŒƒ' }));
          }
          .width('100%')
          .padding(16)
          .backgroundColor('#ffffff')
          .borderRadius(12);

          // ç‰ˆæœ¬ä¿¡æ¯
          Column({ space: 4 }) {
            Text('çŸ¥ä¹ä¹ v1.0.0')
              .fontSize(13)
              .fontColor('#999999');
            Text('Â© 2024 çŸ¥ä¹ä¹å›¢é˜Ÿ')
              .fontSize(12)
              .fontColor('#bbbbbb');
          }
          .width('100%')
          .padding({ top: 20, bottom: 40 })
          .alignItems(HorizontalAlign.Center);
        }
        .width('100%')
        .padding({ left: 16, right: 16, top: 16 });
      }
      .layoutWeight(1);
    }
    .width('100%')
    .height('100%')
    .backgroundColor('#f5f5f5');
  }
}

