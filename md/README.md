# 知乎乎（HarmonyOS ArkUI 项目）

本文档位于仓库根目录，汇总了项目定位、页面结构与运行流程，可直接作为课程报告的基础说明。

## 项目定位
- 基于 HarmonyOS ArkUI（Stage 模型）的移动端问答类应用，入口 Ability 在窗口创建后加载首页 `pages/MainPages/Index`。
- 提供登录/游客体验、问答浏览、搜索筛选、知识库推荐与个人中心等完整流程；主要业务代码位于 `entry/src/main/ets`。

## 核心页面与交互

### 1. 引导页（Index.ets）
- 顶部区域展示“知乎乎”品牌与产品定位文案，突出应用是一个“问答 + 知识库”的学习社区；通过大标题、说明文字与按钮形成视觉层级，确保用户首次进入时明确用途。
- 交互设计为双入口：主按钮引导用户进入登录页，建立账号体系；次按钮提供“一键体验”直接进入首页，降低试用门槛并减少流失。
- 中部“快速开始”卡片模块对核心能力进行拆分说明，分别覆盖热榜/发现/我的三大内容路径。
- 卡片内置直达动作：热榜卡片一键跳转到主内容页的问答列表，登录卡片直达登录页；文本提示强调“先浏览后注册”的体验策略。

### 2. 登录/注册体验（ZhiHuHuLoginPage.ets）
- 账号/密码输入后触发 `doLogin`：若账号为空则自动使用默认昵称，降低输入成本；登录成功后写入 `AppStorage`，让后续页面共享登录态与用户昵称。
- 登录按钮触发页面跳转到主内容页 `CNKIPage`，并在主内容页顶部区域展示用户登录状态，形成“登录成功 → 立刻可用”的反馈闭环。
- 视觉上采用表单+操作区的布局，输入区简洁集中，按钮区强调主次：登录为主操作，注册与游客体验为辅入口。
- 页面底部提供注册页与游客体验入口，允许未注册用户快速进入浏览模式，同时保留注册路径以提升转化。

### 3. 主内容页（CNKIPage.ets）
- 页面以顶部工具区 + Tab 内容区的结构组织：顶部包含登录状态、搜索框与热门标签；下方为“首页/发现/私信”三栏切换，保证用户主路径清晰。
- 搜索框支持关键词过滤模拟问答数据；热门标签通过点击触发筛选，缩短用户从输入到结果的路径。
- 首页 Tab 主要用于问答列表阅读：卡片包含作者头像、标题、摘要、话题标签与配图；针对不同图片数量提供单图/双图/多图的自适应排版，确保信息密度与可读性。
- 列表项点击后可进入问答详情或相关页（根据页面路由配置），形成“列表 → 内容”的连续体验。
- 发现 Tab 面向探索式浏览：顶部提供“快捷问题”按钮，模拟用户快速发起问题或跳转推荐问题。
- 知识库推荐区以卡片形式呈现主题化内容集合，卡片支持翻转查看订阅量、内容数与描述；设计上通过动效与数据指标强化“可订阅、可追踪”的知识库概念。
- 页面提供入口跳转知识广场或个人中心，未登录时会提示登录，确保功能访问与登录态一致。

### 4. 个人中心（MinePage.ets）
- 页面顶部以用户信息卡展示头像、昵称与统计（关注、粉丝、收藏、历史），数据来源于 `AppStorage` 的 `currentUser`，保证全局状态一致。
- 中部提供快捷入口：个人主页、设置、创作中心等按钮，满足“查看信息—创作—管理”的核心需求链路。
- 会员促销卡片以权益描述与按钮形式呈现，强调增值服务与可操作性。
- 九宫格功能区承载收藏、历史、发布、帮助、消息等高频入口；布局上使用等宽卡片提高可扫读性，便于快速定位。
- 页面底部提供退出登录入口，触发清理登录态并返回登录页，明确“账号切换/退出”的可控路径。

### 5. 详情与内容延展类页面
- 详情页（DetailPage.ets）用于呈现问答完整内容：顶部含返回与更多操作；正文区包含标题、作者信息、摘要与详细回答文本；底部提供点赞、收藏、分享与评论交互。
- 评论区采用“输入框弹出 + 本地评论列表追加”的交互模式，模拟提交后即时反馈与评论数更新；评论支持点赞，增强互动感。
- 消息详情页（MessageDetailPage.ets）以对话气泡形式展示系统消息或私信，区分“自己/对方”的布局；底部输入栏用于模拟回复并提示“示例对话”。

### 6. 收藏/历史/关注关系页面
- 收藏页（CollectionPage.ets）展示收藏卡片列表，提供“编辑/取消收藏”和按时间排序入口；列表项跳转到详情页。
- 历史页（HistoryPage.ets）展示浏览记录列表，支持单条删除与一键清空；空状态会提示用户“暂无浏览记录”。
- 关注/粉丝页（FollowPage.ets）支持“关注/粉丝”双 Tab 切换；每个用户卡片展示头像、简介、粉丝数与回答数，并支持“关注/取消关注”。

### 7. 个人主页/发布/设置等功能页
- 个人主页（ProfilePage.ets）展示用户信息卡（头像、简介、职业/地区、关注/粉丝/获赞统计），并提供关注按钮与“回答/文章/想法”三栏内容列表。
- 发布页（PublishPage.ets）提供问题标题、描述、话题选择与匿名开关；发布前做基础校验（标题不能为空/长度限制），并提供发布须知提示。
- 设置页（SettingsPage.ets）汇总“关于与帮助、去评价、开源许可、检查更新、关于知乎乎”等入口，并提供“退出账号”清理登录态的操作。
- 帮助页（HelpPage.ets）包含客服入口与 FAQ 列表，FAQ 采用展开/折叠交互，页面底部提供“提交反馈”入口。

### 8. 其他辅助页面与容器
- Home 容器页（ZhiHuHuHomePage.ets）作为包裹层直接渲染 `CNKIPage`，用于简化入口跳转。
- 备用登录/注册流程页（LoginPage.ets、RegisterPage.ets）提供账号注册、默认体验账号登录等流程；与 `ZhiHuHuLoginPage.ets` 并行存在，主要用于示例流程与可选入口。

## 运行流程概览
1. 启动 `EntryAbility` → 加载引导页，用户可选择登录或直接体验。
2. 登录成功记录用户名并跳转 `CNKIPage`；游客体验可直接进入首页浏览。
3. 在主内容页进行搜索、标签筛选、问答浏览或知识库推荐查看，并可进入个人中心或其他功能页。
4. 个人中心汇总账号信息、收藏/历史、关注关系与创作入口，支持退出登录返回登录页。

## 目录与资源提示
- 代码：`entry/src/main/ets`（包含 Ability 与各页面）。
- 资源：`entry/src/main/resources`（媒体、布局等），`module.json5` 记录页面路由。
- 辅助脚本：根目录下的 `download_*.py` 和 `generate_*.py` 用于图片处理或占位图生成。
